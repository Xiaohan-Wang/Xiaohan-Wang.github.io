I"«
<h4 id="cuda_visible_devi">CUDA_VISIBLE_DEVI</h4>
<ul>
  <li><code class="highlighter-rouge">data.cuda()</code>: the old, pre-0.4 way</li>
  <li><code class="highlighter-rouge">data.to(device)</code>: more flexible. For example, <code class="highlighter-rouge">data.to('cuda:1')</code> put data to GPU1</li>
</ul>

<h4 id="å•æœºå•å¡">å•æœºå•å¡</h4>
<p>å¦‚æœä¸è®¾ç½®Dataparallelï¼Œå³ä½¿ä¸€å°æœºå™¨ä¸Šæœ‰å¤šä¸ªGPUï¼Œpytorchä¹Ÿåªä¼šå ç”¨ç¼–å·ä¸º0çš„GPU</p>

<h4 id="å•æœºå¤šå¡">å•æœºå¤šå¡</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># have to put model and data to GPU0
</span>
<span class="c1"># model
</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">DataParallel</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s">'cuda:0'</span><span class="p">)</span>
<span class="c1"># data
</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s">'cuda:0'</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="å¤šæœºå¤šå¡">å¤šæœºå¤šå¡</h4>
<p>å¾…å¡«</p>
:ET