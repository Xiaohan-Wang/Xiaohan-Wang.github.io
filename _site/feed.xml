<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Xiaohan's Blog</title>
    <description>Do it now.</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Thu, 11 Jun 2020 21:24:30 -0400</pubDate>
    <lastBuildDate>Thu, 11 Jun 2020 21:24:30 -0400</lastBuildDate>
    <generator>Jekyll v4.0.0</generator>
    
      <item>
        <title>å‡è®¾æ£€éªŒ</title>
        <description>&lt;h4 id=&quot;å„ç§åˆ†å¸ƒ&quot;&gt;å„ç§åˆ†å¸ƒ&lt;/h4&gt;
&lt;h5 id=&quot;æ­£æ€åˆ†å¸ƒ&quot;&gt;æ­£æ€åˆ†å¸ƒ&lt;/h5&gt;
&lt;p&gt;&lt;img src=&quot;/img/15919078017261.jpg&quot; width=&quot;50%&quot; height=&quot;100%&quot; /&gt;&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;$\mu \pm \sigma$ ä¹‹é—´çš„æ¦‚ç‡æ˜¯68%&lt;/li&gt;
  &lt;li&gt;$\mu \pm 1.96\sigma$ ä¹‹é—´çš„æ¦‚ç‡æ˜¯95%&lt;/li&gt;
  &lt;li&gt;$\mu \pm 2.56\sigma$ ä¹‹é—´çš„æ¦‚ç‡æ˜¯99%&lt;/li&gt;
&lt;/ol&gt;

&lt;h5 id=&quot;å…¶å®ƒåˆ†å¸ƒ&quot;&gt;å…¶å®ƒåˆ†å¸ƒ&lt;/h5&gt;
&lt;p&gt;&lt;img src=&quot;/img/15919118904133.jpg&quot; width=&quot;30%&quot; height=&quot;100%&quot; /&gt;&lt;br /&gt;
å’Œæ­£æ€åˆ†å¸ƒä¸åŒï¼Œéœ€è¦å…¶å®ƒæ–¹æ³•è®¡ç®—å¯¹åº”çš„æ¦‚ç‡èŒƒå›´&lt;/p&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;å‡è®¾æ£€éªŒ&quot;&gt;å‡è®¾æ£€éªŒ&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;åŸå‡è®¾ï¼šä¹Ÿå«é›¶å‡è®¾ï¼Œç”¨ $H_0$ æ¥è¡¨ç¤ºï¼Œä¸€èˆ¬æ˜¯å¸Œæœ›èƒ½è¯æ˜ä¸ºé”™è¯¯çš„å‡è®¾ã€‚&lt;/li&gt;
  &lt;li&gt;å¤‡æ‹©å‡è®¾ï¼šåŸå‡è®¾çš„åé¢ï¼Œä¸€èˆ¬ç”¨ $H_1$ æ¥è¡¨ç¤ºï¼Œæ˜¯å¸Œæœ›è¯æ˜æ˜¯æ­£ç¡®çš„å¦ä¸€ç§å¯èƒ½ã€‚&lt;/li&gt;
  &lt;li&gt;å‡è®¾æ£€éªŒçš„ç›®çš„åœ¨äºè¯•å›¾æ‰¾åˆ°è¯æ®æ‹’ç»åŸå‡è®¾ã€‚å½“æ²¡æœ‰è¶³å¤Ÿè¯æ®æ‹’ç»åŸå‡è®¾æ—¶ï¼Œä¸é‡‡ç”¨ â€œæ¥å—åŸå‡è®¾â€ çš„è¡¨è¿°ï¼Œè€Œé‡‡ç”¨ â€œä¸æ‹’ç»åŸå‡è®¾â€ çš„è¡¨è¿°ã€‚â€œä¸æ‹’ç»â€çš„è¡¨è¿°å®é™…ä¸Šæ„å‘³ç€å¹¶æœªç»™å‡ºæ˜ç¡®çš„ç»“è®ºï¼Œæˆ‘ä»¬æ²¡æœ‰è¯´åŸå‡è®¾æ­£ç¡®ï¼Œä¹Ÿæ²¡æœ‰è¯´å®ƒä¸æ­£ç¡®ã€‚&lt;strong&gt;å‡è®¾æ£€éªŒçš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†æ‹’ç»è€Œä¸æ˜¯æ¥å—ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;æ€è·¯&quot;&gt;æ€è·¯&lt;/h5&gt;
&lt;ol&gt;
  &lt;li&gt;æ¬²è¯ï¼šå¤‡æ‹©å‡è®¾ä¸ºçœŸ&lt;/li&gt;
  &lt;li&gt;åŸç†1: &lt;strong&gt;å‡è®¾è¯æ˜éš¾è€Œè¯ä¼ªæ˜“&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;åªéœ€è¯ï¼šå¤‡æ‹©å‡è®¾çš„å¦å‘½é¢˜ï¼ˆåŸå‡è®¾ï¼‰ä¸ºå‡&lt;/li&gt;
  &lt;li&gt;åŸç†2: &lt;strong&gt;å°æ¦‚ç‡äº‹ä»¶åœ¨å°‘é‡å®éªŒä¸­æ˜¯ä¸å¯èƒ½å‡ºç°çš„&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;åªéœ€ï¼šè§‚å¯Ÿåˆ°â€œ&lt;strong&gt;åŸå‡è®¾æ¡ä»¶ä¸‹çš„å°æ¦‚ç‡äº‹ä»¶&lt;/strong&gt;çš„å‘ç”Ÿâ€&lt;/li&gt;
&lt;/ol&gt;

&lt;h5 id=&quot;æ£€éªŒæ–¹æ³•&quot;&gt;æ£€éªŒæ–¹æ³•&lt;/h5&gt;
&lt;ol&gt;
  &lt;li&gt;é¦–å…ˆç¡®å®šâ€œå°æ¦‚ç‡äº‹ä»¶â€çš„æ¦‚ç‡èŒƒå›´ï¼Œå³&lt;strong&gt;æ˜¾è‘—æ€§æ°´å¹³&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;e.g. æ˜¾è‘—æ€§æ°´å¹³ä¸º0.05ï¼Œå³å‘ç”Ÿæ¦‚ç‡å°äº5%çš„äº‹ä»¶ä¸ºâ€œå°æ¦‚ç‡äº‹ä»¶â€&lt;/li&gt;
      &lt;li&gt;æ˜¾è‘—æ€§æ°´å¹³è¶Šé«˜ï¼Œâ€œå°æ¦‚ç‡äº‹ä»¶â€å‘ç”Ÿçš„å¯èƒ½æ€§è¶Šå¤§ï¼Œå³è¶Šæ¥è¶Šå®¹æ˜“æ‹’ç»åŸå‡è®¾&lt;/li&gt;
      &lt;li&gt;â€œå°æ¦‚ç‡äº‹ä»¶â€å‘ç”Ÿçš„åŒºåŸŸå¯¹åº”&lt;strong&gt;æ‹’ç»åŸŸ&lt;/strong&gt;ï¼Œ&lt;strong&gt;æ‹’ç»åŸŸ&lt;/strong&gt;æ²¡æœ‰è¦†ç›–çš„åŒºåŸŸä¸º&lt;strong&gt;ç½®ä¿¡åŒºé—´&lt;/strong&gt;&lt;/li&gt;
      &lt;li&gt;å¦‚ä¸‹å›¾ï¼šè®¾å·²çŸ¥æˆç»©æœä»æ­£æ€åˆ†å¸ƒï¼ŒåŸå‡è®¾ä¸ºæˆç»©å‡å€¼ä¸º$\mu$ï¼Œåœ¨è¯¥æ¡ä»¶ä¸‹ï¼Œçº¢è‰²åŒºåŸŸå¯¹åº”å°æ¦‚ç‡äº‹ä»¶ (å‘ç”Ÿæ¦‚ç‡ä¸º5%)ï¼Œå³æ‹’ç»åŸŸæ¦‚ç‡ä¸º5%ï¼Œç½®ä¿¡åŒºé—´æ¦‚ç‡ä¸º95%&lt;br /&gt;
 &lt;img src=&quot;/img/15919111868762.jpg&quot; width=&quot;60%&quot; height=&quot;100%&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;æ£€éªŒæ–¹æ³•1 (ä¸´ç•Œæ¦‚ç‡ to ä¸´ç•Œå€¼):
    &lt;ul&gt;
      &lt;li&gt;æ ¹æ®è®¾å®šçš„æ˜¾è‘—åº¦å’Œå¯¹åº”åˆ†å¸ƒæ‰¾åˆ°â€œå°æ¦‚ç‡äº‹ä»¶â€å¯¹åº”çš„ä¸´ç•Œå€¼&lt;/li&gt;
      &lt;li&gt;è®¡ç®—æ ·æœ¬å¾—åˆ°çš„ç»Ÿè®¡é‡å€¼ï¼Œåˆ¤å®šæ˜¯å¦è¶Šè¿‡äº†ä¸´ç•Œå€¼&lt;/li&gt;
      &lt;li&gt;è‹¥æ˜¯ï¼Œåˆ™è¿›å…¥äº†å°æ¦‚ç‡é”™è¯¯åŸŸ (æ‹’ç»åŸŸ)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;æ£€éªŒæ–¹æ³•2 (æ ·æœ¬å€¼ to æ ·æœ¬æ¦‚ç‡)ï¼š
    &lt;ul&gt;
      &lt;li&gt;è®¡ç®—æ ·æœ¬å¾—åˆ°çš„ç»Ÿè®¡é‡å€¼ï¼Œè¿›è€Œåœ¨åˆ†å¸ƒä¸­æ‰¾åˆ°å¯¹åº”çš„æ¦‚ç‡å€¼ï¼Œå³på€¼&lt;/li&gt;
      &lt;li&gt;å°†på€¼ä¸æ˜¾è‘—åº¦ (è®¾å®šçš„â€œå°æ¦‚ç‡äº‹ä»¶â€åˆ¤å®šå€¼) è¿›è¡Œæ¯”è¾ƒ&lt;/li&gt;
      &lt;li&gt;å¦‚æœpå€¼æ¯”æ˜¾è‘—åº¦å°ï¼Œåˆ™å‘ç”Ÿçš„æ ·æœ¬å±äºâ€œå°æ¦‚ç‡äº‹ä»¶â€ï¼Œæ•…è€Œæ‹’ç»åŸå‡è®¾&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;ul&gt;
  &lt;li&gt;æ£€éªŒæ–¹æ³•1å’Œ2æœ¬è´¨ä¸Šæ˜¯ç›¸åŒçš„ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;å‚è€ƒèµ„æ–™&quot;&gt;å‚è€ƒèµ„æ–™&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;https://www.zhihu.com/question/20254932&lt;/li&gt;
  &lt;li&gt;https://cosx.org/2009/03/meaning-of-failure-to-reject-h0/&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Thu, 11 Jun 2020 00:00:00 -0400</pubDate>
        <link>http://localhost:4000/2020/06/11/%E5%81%87%E8%AE%BE%E6%A3%80%E9%AA%8C/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/06/11/%E5%81%87%E8%AE%BE%E6%A3%80%E9%AA%8C/</guid>
        
        <category>Statistics</category>
        
        
      </item>
    
      <item>
        <title>EM algorithm, K-means, and GMM</title>
        <description>&lt;h4 id=&quot;em-algorithm&quot;&gt;EM algorithm&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;EMç®—æ³•æ˜¯æœŸæœ›æœ€å¤§åŒ–(Expectation Maximization)ç®—æ³•çš„ç®€ç§°&lt;/li&gt;
  &lt;li&gt;ç”¨äº&lt;strong&gt;å«æœ‰éšå˜é‡(hidden variable)&lt;/strong&gt;çš„æƒ…å†µä¸‹ï¼Œæ¨¡å‹å‚æ•°çš„æœ€å¤§ä¼¼ç„¶ä¼°è®¡&lt;/li&gt;
  &lt;li&gt;EMç®—æ³•æ˜¯ä¸€ç§è¿­ä»£ç®—æ³•ï¼Œæ¯æ¬¡è¿­ä»£ç”±ä¸¤æ­¥ç»„æˆï¼š
    &lt;ul&gt;
      &lt;li&gt;Eæ­¥ï¼šæ ¹æ®æ¨¡å‹å‚æ•°çš„å‡è®¾å€¼ï¼Œç»™å‡ºéšå˜é‡çš„æœŸæœ›ä¼°è®¡ï¼Œåº”ç”¨äºç¼ºå¤±å€¼&lt;/li&gt;
      &lt;li&gt;Mæ­¥ï¼šæ ¹æ®éšå˜é‡çš„ä¼°è®¡å€¼ï¼Œç»™å‡ºå½“å‰çš„å‚æ•°çš„æå¤§ä¼¼ç„¶ä¼°è®¡&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;k-means&quot;&gt;K-means&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;å…ˆéšæœºé€‰å®škä¸ªç‚¹ä½œä¸ºè´¨å¿ƒ $\mu_1, \mu_2, \cdots, \mu_ğ‘˜$&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;E step: å›ºå®š$\mu_k$ï¼Œå°†æ ·æœ¬åˆ’åˆ†åˆ°è·ç¦»æœ€è¿‘çš„$\mu_k$æ‰€å±çš„ç°‡ä¸­&lt;/p&gt;

    &lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
r_{nk} = \left. \begin{cases} 1 \,\, &amp; \text{if} \;\;\;k = \mathop{argmin}_j ||\mathbf{x}_n - \boldsymbol{\mu}_j||^2 \\
0 \,\, &amp; \text{otherwise} \end{cases} \right. %]]&gt;&lt;/script&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;M step: å¯¹äºæ¯ä¸€ä¸ªæ•°æ®ç°‡ï¼Œé‡æ–°è®¡ç®—å…¶ä¸­å¿ƒï¼Œç›®æ ‡æ˜¯æœ€å°åŒ–ç°‡ä¸­æ¯ä¸ªæ ·æœ¬ä¸ä¸­å¿ƒçš„è·ç¦»ï¼Œå¯è¡¨ç¤ºä¸º&lt;/p&gt;

    &lt;script type=&quot;math/tex; mode=display&quot;&gt;J = \sum\limits_{n=1}^N r_{nk} ||\mathbf{x}_n - \boldsymbol{\mu}_k||^2.&lt;/script&gt;

    &lt;p&gt;ä¸ºæ±‚å¾—æœ€å°åŒ– $J$ çš„ $\mu_k$ï¼Œå¯é€šè¿‡&lt;/p&gt;

    &lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{\partial J}{\partial\mathbf{\mu}_k}=2\sum\limits_{n=1}^N r_{nk}(\boldsymbol{x}_n - \boldsymbol{\mu}_k) = 0,&lt;/script&gt;

    &lt;p&gt;æ±‚å¾—&lt;/p&gt;

    &lt;script type=&quot;math/tex; mode=display&quot;&gt;\boldsymbol{\mu}_k = \frac{\sum_nr_{nk} \mathbf{x}_n}{\sum_n r_{nk}},&lt;/script&gt;

    &lt;p&gt;å³ç°‡ä¸­æ¯ä¸ªæ ·æœ¬çš„å‡å€¼å‘é‡ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;é‡å¤è®¡ç®— E-step å’Œ M-step ç›´è‡³æ”¶æ•›&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;gaussian-mixture-model-gmm&quot;&gt;Gaussian Mixture Model (GMM)&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;æ··åˆæ¨¡å‹ (mixture model)ï¼šæ˜¯ä¸€ä¸ªå¯ä»¥ç”¨æ¥è¡¨ç¤ºåœ¨æ€»ä½“åˆ†å¸ƒä¸­å«æœ‰ K ä¸ªå­åˆ†å¸ƒçš„æ¦‚ç‡æ¨¡å‹ã€‚æ¢å¥è¯è¯´ï¼Œæ€»ä½“çš„æ¦‚ç‡åˆ†å¸ƒï¼Œæ˜¯ä¸€ä¸ªç”± K ä¸ªå­åˆ†å¸ƒç»„æˆçš„æ··åˆåˆ†å¸ƒã€‚
    &lt;ul&gt;
      &lt;li&gt;æ··åˆæ¨¡å‹ä¸è¦æ±‚è§‚æµ‹æ•°æ®æä¾›å…¶å±äºå“ªä¸ªå­åˆ†å¸ƒ =&amp;gt; hiddle varibale&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;å¯¹äºæ··åˆæ¨¡å‹æ¥è¯´ï¼Œæ¯ä¸ªå­åˆ†å¸ƒå¤©ç„¶åœ°æ„æˆäº†å„è‡ªçš„ä¸€ç±»&lt;/strong&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;é«˜æ–¯æ··åˆæ¨¡å‹ï¼šç”± K ä¸ªå•é«˜æ–¯æ¨¡å‹ç»„åˆè€Œæˆçš„æ¨¡å‹ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªæ··åˆæ¨¡å‹å¯ä»¥ä½¿ç”¨ä»»ä½•æ¦‚ç‡åˆ†å¸ƒï¼Œè¿™é‡Œä½¿ç”¨é«˜æ–¯æ··åˆæ¨¡å‹æ˜¯å› ä¸ºé«˜æ–¯åˆ†å¸ƒå…·å¤‡å¾ˆå¥½çš„æ•°å­¦æ€§è´¨ä»¥åŠè‰¯å¥½çš„è®¡ç®—æ€§èƒ½ã€‚
    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;é«˜æ–¯æ··åˆæ¨¡å‹çš„æ¦‚ç‡åˆ†å¸ƒä¸ºï¼š&lt;/p&gt;

        &lt;script type=&quot;math/tex; mode=display&quot;&gt;P(x|\theta) = \sum_{k=1}^{K}{\alpha_{k}\phi(x|\theta_{k})}&lt;/script&gt;
      &lt;/li&gt;
      &lt;li&gt;å¯¹äºè¿™ä¸ªæ¨¡å‹è€Œè¨€ï¼Œå‚æ•° $\theta = (\tilde{\mu_{k}}, \tilde{\sigma_{k}}, \tilde{\alpha_{k}})$ ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªå­æ¨¡å‹çš„æœŸæœ›ã€æ–¹å·®ï¼ˆæˆ–åæ–¹å·®ï¼‰ã€åœ¨æ··åˆæ¨¡å‹ä¸­å‘ç”Ÿçš„æ¦‚ç‡&lt;/li&gt;
      &lt;li&gt;å¦‚æœé€šè¿‡ä½¿ç”¨è¶³å¤Ÿå¤šçš„é«˜æ–¯åˆ†å¸ƒï¼Œå¹¶ä¸”è°ƒèŠ‚å®ƒä»¬çš„å‡å€¼å’Œæ–¹å·®ä»¥åŠçº¿æ€§ç»„åˆçš„ç³»æ•°ï¼Œé‚£ä¹ˆå‡ ä¹æ‰€æœ‰çš„è¿ç»­æ¦‚ç‡å¯†åº¦éƒ½èƒ½å¤Ÿä»¥ä»»æ„çš„ç²¾åº¦è¿‘ä¼¼ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;ol&gt;
  &lt;li&gt;éšæœºåˆå§‹åŒ–æ¨¡å‹å‚æ•°ï¼ˆå„ä¸ªé«˜æ–¯åˆ†å¸ƒçš„å‡å€¼ã€æ–¹å·®ã€å‘ç”Ÿæ¦‚ç‡ï¼‰&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;E step: ä¾æ®å½“å‰å‚æ•°ï¼Œè®¡ç®—æ¯ä¸ªæ•°æ® $j$ æ¥è‡ªå­æ¨¡å‹ $k$ çš„å¯èƒ½æ€§&lt;/p&gt;

    &lt;script type=&quot;math/tex; mode=display&quot;&gt;\gamma_{jk} = \frac{\alpha_{k}\phi(x_{j}|\theta_{k})}{\sum_{k=1}^{K}{\alpha_{k}\phi(x_{j}|\theta_{k})}}, j = 1,2,...,N; k = 1,2,...,K&lt;/script&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;M step: è®¡ç®—æ–°çš„æ¨¡å‹å‚æ•°&lt;/p&gt;

    &lt;script type=&quot;math/tex; mode=display&quot;&gt;\mu_{k} = \frac{\sum_{j=1}^{N}{(\gamma_{jk}}x_{j})}{\sum_{j=1}^{N}{\gamma_{jk}}}, k=1,2,...,K&lt;/script&gt;

    &lt;script type=&quot;math/tex; mode=display&quot;&gt;\Sigma_{k} = \frac{\sum_{j=1}^{N}{\gamma_{jk}}(x_{j}-\mu_{k})(x_{j}-\mu_{k})^{T}}{\sum_{j=1}^{N}{\gamma_{jk}}}, k = 1,2,...,K&lt;/script&gt;

    &lt;script type=&quot;math/tex; mode=display&quot;&gt;\alpha_{k} = \frac{\sum_{j=1}^{N}{\gamma_{jk}}}{N}, k=1,2,...,K&lt;/script&gt;
  &lt;/li&gt;
  &lt;li&gt;é‡å¤è®¡ç®— E-step å’Œ M-step ç›´è‡³æ”¶æ•›&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;difference&quot;&gt;difference&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;K-means: hard assignment&lt;/strong&gt;
in each iteration, we are absolutely certain as to which cluster the point belongs to&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;GMM: soft assignment&lt;/strong&gt;
 It starts with some prior belief about how certain we are about each pointâ€™s cluster assignments. As it goes on, it revises those beliefs&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;reference&quot;&gt;Reference&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.quora.com/What-is-the-difference-between-K-means-and-the-mixture-model-of-Gaussian&quot;&gt;difference of k-means and GMM&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://sites.northwestern.edu/msia/2016/12/08/k-means-shouldnt-be-our-only-choice/&quot;&gt;k-means shouldnâ€™t be our only choice&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/30483076&quot;&gt;EM algorithm, K-means, and GMM 1&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/75554749&quot;&gt;EM algorithm, K-means, and GMM 2&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Tue, 09 Jun 2020 00:00:00 -0400</pubDate>
        <link>http://localhost:4000/2020/06/09/K-means%E5%92%8CGMM/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/06/09/K-means%E5%92%8CGMM/</guid>
        
        <category>Clustering</category>
        
        
      </item>
    
      <item>
        <title>Image classification</title>
        <description>&lt;h4 id=&quot;cifar-10&quot;&gt;CIFAR-10&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;60000 32x32 color images in 10 classes, with 6000 images per class&lt;/li&gt;
  &lt;li&gt;50000 training images and 10000 test images&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;/img/15917518925606.jpg&quot; width=&quot;60%&quot; height=&quot;100%&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Tue, 09 Jun 2020 00:00:00 -0400</pubDate>
        <link>http://localhost:4000/2020/06/09/Image-classification-dataset/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/06/09/Image-classification-dataset/</guid>
        
        <category>Datasets</category>
        
        
      </item>
    
      <item>
        <title>slurmä½¿ç”¨åŸºç¡€</title>
        <description>
&lt;p&gt;SLURMï¼šå¼€æºä½œä¸šè°ƒåº¦ç³»ç»Ÿ&lt;/p&gt;

&lt;h4 id=&quot;æäº¤ä½œä¸š&quot;&gt;æäº¤ä½œä¸š&lt;/h4&gt;
&lt;h5 id=&quot;æäº¤æ–¹å¼&quot;&gt;æäº¤æ–¹å¼&lt;/h5&gt;
&lt;p&gt;Slurmæäº¤ä½œä¸šæœ‰3ç§æ¨¡å¼ï¼Œåˆ†åˆ«ä¸ºäº¤äº’æ¨¡å¼ï¼Œæ‰¹å¤„ç†æ¨¡å¼ï¼Œåˆ†é…æ¨¡å¼ã€‚è¿™ä¸‰ç§æ–¹å¼&lt;strong&gt;åªæ˜¯ç”¨æˆ·ä½¿ç”¨æ–¹å¼çš„åŒºåˆ«ï¼Œè€Œåœ¨ç®¡ç†ï¼Œè°ƒåº¦ï¼Œè®°è´¦æ—¶åŒç­‰å¯¹å¾…&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;äº¤äº’æ¨¡å¼(srun)ï¼šäº¤äº’å¼ä½œä¸šæäº¤ï¼Œæäº¤å‘½ä»¤åï¼Œç­‰å¾…ä½œä¸šæ‰§è¡Œå®Œæˆä¹‹åè¿”å›å‘½ä»¤è¡Œçª—å£ã€‚&lt;/li&gt;
  &lt;li&gt;æ‰¹å¤„ç†æ¨¡å¼(sbatch)ï¼šç”¨æˆ·ç¼–å†™ä½œä¸šè„šæœ¬ï¼ŒæŒ‡å®šèµ„æºéœ€æ±‚çº¦æŸï¼Œæäº¤åå°æ‰§è¡Œä½œä¸šã€‚&lt;/li&gt;
  &lt;li&gt;åˆ†é…æ¨¡å¼(salloc)ï¼šç»“ç‚¹èµ„æºæŠ¢å å‘½ä»¤ã€‚è¯¥å‘½ä»¤æ”¯æŒç”¨æˆ·åœ¨æäº¤ä½œä¸šå‰ï¼ŒæŠ¢å æ‰€éœ€è®¡ç®—èµ„æºã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h5 id=&quot;è¿è¡Œå‚æ•°&quot;&gt;è¿è¡Œå‚æ•°&lt;/h5&gt;
&lt;p&gt;ä»¥ä¸‹å‚æ•°é€‚ç”¨äºæ‰€æœ‰ä½œä¸šæäº¤å‘½ä»¤(srun, sbatch, salloc)ã€‚&lt;strong&gt;sbatchæ—¶å¯ä»¥é€šè¿‡è„šæœ¬æäº¤æˆ–å‘½ä»¤è¡Œæäº¤&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å¸¸ç”¨ï¼š&lt;/p&gt;

&lt;style&gt;
table th:first-of-type {
    width: 8%;
}
table th:nth-of-type(2) {
    width: 28%;
}
table th:nth-of-type(3) {
    width: 25%;
}
table th:nth-of-type(4) {
    width: 39%;
}
&lt;/style&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;å‚æ•°&lt;/th&gt;
      &lt;th&gt;ç®€å†™&lt;/th&gt;
      &lt;th&gt;ä½œç”¨&lt;/th&gt;
      &lt;th&gt;å¤‡æ³¨&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;-p&lt;/td&gt;
      &lt;td&gt;â€“partition&lt;/td&gt;
      &lt;td&gt;æŒ‡å®šé˜Ÿåˆ—èµ„æº&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;â€“gres=gpu:&amp;lt;number&amp;gt;&lt;/td&gt;
      &lt;td&gt;æ¯ä¸ªèŠ‚ç‚¹çš„GPUæ•°&lt;/td&gt;
      &lt;td&gt;gresæ˜¯generic resource&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;-J&lt;/td&gt;
      &lt;td&gt;â€“job-name&lt;/td&gt;
      &lt;td&gt;æŒ‡å®šä½œä¸šåç§°&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;-w&lt;/td&gt;
      &lt;td&gt;â€“nodelist=&amp;lt;host1,host2,â€¦&amp;gt;&lt;/td&gt;
      &lt;td&gt;åœ¨æŒ‡å®šçš„èŠ‚ç‚¹ä¸Šè¿è¡Œ&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;å…¶ä»–ï¼š&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;å‚æ•°&lt;/th&gt;
      &lt;th&gt;ç®€å†™&lt;/th&gt;
      &lt;th&gt;ä½œç”¨&lt;/th&gt;
      &lt;th&gt;å¤‡æ³¨&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;-N&lt;/td&gt;
      &lt;td&gt;â€“nodes=&amp;lt;number&amp;gt;&lt;/td&gt;
      &lt;td&gt;æŒ‡å®šèŠ‚ç‚¹æ•°é‡&lt;/td&gt;
      &lt;td&gt;æ˜¯èŠ‚ç‚¹æ•°ï¼Œä¸æ˜¯CPUæ ¸æ•°ï¼Œå®é™…åˆ†é…çš„æ˜¯èŠ‚ç‚¹æ•°Ã—æ¯èŠ‚ç‚¹CPUæ ¸æ•°&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;-n&lt;/td&gt;
      &lt;td&gt;â€“ntasks=&amp;lt;number&amp;gt;&lt;/td&gt;
      &lt;td&gt;è¿è¡Œ&amp;lt;number&amp;gt;ä¸ªä»»åŠ¡&lt;/td&gt;
      &lt;td&gt;é»˜è®¤ä¸ºæ¯ä¸ªèŠ‚ç‚¹ä¸€ä¸ªä»»åŠ¡ï¼Œæ³¨æ„æ˜¯æ‰€éœ€æ€»CPUæ ¸æ•°&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;â€“ntasks-per-node=&amp;lt;ntasks&amp;gt;&lt;/td&gt;
      &lt;td&gt;æ¯ä¸ªèŠ‚ç‚¹è¿è¡Œ&amp;lt;ntasks&amp;gt;ä¸ªä»»åŠ¡&lt;/td&gt;
      &lt;td&gt;éœ€ä¸-n=&amp;lt;number&amp;gt;é…åˆ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;â€“ntasks-per-core=&amp;lt;ntasks&amp;gt;&lt;/td&gt;
      &lt;td&gt;æ¯é¢—CPUæ ¸è¿è¡Œ&amp;lt;ntasks&amp;gt;ä¸ªä»»åŠ¡&lt;/td&gt;
      &lt;td&gt;éœ€ä¸-n=&amp;lt;number&amp;gt;é…åˆï¼Œå¹¶è‡ªåŠ¨ç»‘å®š&amp;lt;ntasks&amp;gt;ä¸ªä»»åŠ¡åˆ°æ¯ä¸ªCPUæ ¸&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;æŸ¥çœ‹ä¿¡æ¯&quot;&gt;æŸ¥çœ‹ä¿¡æ¯&lt;/h4&gt;
&lt;h5 id=&quot;é˜Ÿåˆ—&quot;&gt;é˜Ÿåˆ—&lt;/h5&gt;
&lt;ol&gt;
  &lt;li&gt;sinfoï¼šæ˜¾ç¤ºé˜Ÿåˆ—ä¸­å„ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€ï¼ˆidle, mix, alloc, drainï¼‰
    &lt;ul&gt;
      &lt;li&gt;idleï¼Œè¡¨ç¤ºèŠ‚ç‚¹å¤„äºç©ºé—²çŠ¶æ€&lt;/li&gt;
      &lt;li&gt;mixï¼ŒèŠ‚ç‚¹å…·æœ‰åˆ†é…CPUçš„ä½œä¸šï¼Œè€Œå…¶ä»–çš„CPUçŠ¶æ€æ˜¯IDLEï¼Œæ–°æäº¤çš„ä½œä¸šç»§ç»­è¿è¡Œ&lt;/li&gt;
      &lt;li&gt;allocï¼ŒèŠ‚ç‚¹æ‰€æœ‰CPUéƒ½è¢«å ç”¨ï¼Œæ–°æäº¤çš„ä½œä¸šå°†æ’é˜Ÿ&lt;/li&gt;
      &lt;li&gt;drainï¼Œå‡ºç°è¿™ä¸ªçŠ¶æ€æ—¶ï¼Œä¸å½±å“æ­£åœ¨è¿è¡Œçš„ä½œä¸šï¼Œä½†æ˜¯ä¸æ¥å—æ–°çš„ä½œä¸šè°ƒåº¦ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤sinfo â€“Ræ‰“å°èŠ‚ç‚¹ä¸æ­£å¸¸çš„çŠ¶æ€äº§ç”ŸåŸå› &lt;/li&gt;
      &lt;li&gt;down æ•…éšœèŠ‚ç‚¹ä¸å¯ç”¨&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;scontrol show partition &amp;lt;partition name&amp;gt;ï¼šæ˜¾ç¤ºé˜Ÿåˆ—è¯¦ç»†ä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;ä½œä¸š&quot;&gt;ä½œä¸š&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;squeueï¼šæ˜¾ç¤ºæ’é˜Ÿå’Œè¿è¡Œä¸­çš„ä½œä¸šï¼ˆå¯ä»¥è®¾ç½®å‚æ•°é™åˆ¶æ˜¾ç¤ºèŒƒå›´ï¼Œe.g. -uæ˜¾ç¤ºç‰¹å®šuserçš„ä½œä¸šï¼‰&lt;/li&gt;
  &lt;li&gt;scontrol show job &amp;lt;job id&amp;gt;ï¼šå®æ—¶ä½œä¸šè¯¦ç»†ä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;èŠ‚ç‚¹&quot;&gt;èŠ‚ç‚¹&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;scontrol show node &amp;lt;node name&amp;gt;ï¼šæ˜¾ç¤ºèŠ‚ç‚¹çŠ¶æ€
    &lt;ul&gt;
      &lt;li&gt;CfgTRES: è¯¥èŠ‚ç‚¹çš„æ€»èµ„æºï¼ˆTRESè¡¨ç¤ºTrackable Resourceï¼‰
        &lt;ul&gt;
          &lt;li&gt;CfgTRES=cpu=32,mem=257828M,billing=32,gres/gpu=8&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;AllocTRES: å·²ç»åˆ†é…çš„èµ„æº
        &lt;ul&gt;
          &lt;li&gt;AllocTRES=cpu=4,mem=8800M,gres/gpu=2ï¼šå·²ç»å ç”¨ äº† 4 ä¸ª CPU æ ¸å¿ƒï¼Œ8800 MB å†…å­˜å’Œ 2 å— GPU å¡&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;ç®€å•ä½¿ç”¨æ–¹æ³•&quot;&gt;ç®€å•ä½¿ç”¨æ–¹æ³•&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;sinfo -&amp;gt; æŸ¥çœ‹æ€»ä½“GPUä½¿ç”¨æƒ…å†µ&lt;/li&gt;
  &lt;li&gt;scontrol show node &amp;lt;node name&amp;gt; -&amp;gt; æŸ¥çœ‹å…·ä½“èŠ‚ç‚¹GPUå‰©ä½™æƒ…å†µ&lt;/li&gt;
  &lt;li&gt;sbatch -w &amp;lt;node name&amp;gt; â€“gres=gpu:&amp;lt;number&amp;gt; train.sh -&amp;gt; åœ¨ç›¸åº”èŠ‚ç‚¹ä¸Šrequestå¯¹åº”çš„GPUèµ„æº&lt;/li&gt;
  &lt;li&gt;scontrol show job &amp;lt;jobid&amp;gt; -&amp;gt; æŸ¥çœ‹ä»»åŠ¡è¯¦ç»†ä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;åœ¨ç”³è¯·ç›¸åº”èµ„æºåï¼Œä»»åŠ¡åªèƒ½&lt;strong&gt;è·å–åˆ°&lt;/strong&gt;å¯¹åº”éƒ¨åˆ†èµ„æºã€‚æ¯”å¦‚è¯´ï¼Œæ— è®ºèŠ‚ç‚¹æ€»ä½“çš„GPUä½¿ç”¨æƒ…å†µå¦‚ä½• (e.g. ä¸€å…±8ä¸ªGPUï¼Œå·²å ç”¨3ä¸ª)ï¼Œè‹¥â€“gres=gpu:4 (ç”³è¯·äº†4ä¸ªGPU)ï¼Œé‚£ä¹ˆç¨‹åºçš„CUDA_VISIBLE_DEVICES=0,1,2,3&lt;/p&gt;

&lt;h4 id=&quot;å‚è€ƒèµ„æ–™&quot;&gt;å‚è€ƒèµ„æ–™&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.hpccube.com/wiki/index.php/SLURM%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B#.E6.96.87.E6.A1.A3.E6.A6.82.E8.BF.B0&quot;&gt;SLURMä½¿ç”¨åŸºç¡€æ•™ç¨‹&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://hmli.ustc.edu.cn/doc/userguide/slurm-userguide.pdf&quot;&gt;Slurmä½œä¸šè°ƒåº¦ç³»ç»Ÿä½¿ç”¨æŒ‡å—&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Fri, 05 Jun 2020 00:00:00 -0400</pubDate>
        <link>http://localhost:4000/2020/06/05/slurm/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/06/05/slurm/</guid>
        
        <category>Linux</category>
        
        
      </item>
    
      <item>
        <title>å¤šå¡è®­ç»ƒ</title>
        <description>
&lt;h4 id=&quot;cuda_visible_devices&quot;&gt;CUDA_VISIBLE_DEVICES&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;CUDA_VISIBLE_DEVICESç¯å¢ƒå˜é‡é™åˆ¶CUDAç¨‹åºå¯è§çš„GPUè®¾å¤‡&lt;/li&gt;
  &lt;li&gt;CUDAåº”ç”¨è¿è¡Œæ—¶ï¼ŒCUDAå°†éå†å½“å‰&lt;strong&gt;å¯è§çš„&lt;/strong&gt;è®¾å¤‡ï¼Œå¹¶ä»é›¶å¼€å§‹ä¸ºå¯è§è®¾å¤‡ç¼–å·ï¼ˆå› æ­¤æ˜¾å¡çš„å®é™…ç¼–å·å’Œç¨‹åºçœ‹åˆ°çš„ç¼–å·ä¸åŒï¼‰&lt;/li&gt;
  &lt;li&gt;å¦‚æœè®¾å¤‡åºåˆ—æ˜¯å­˜åœ¨å’Œä¸å­˜åœ¨è®¾å¤‡çš„æ··åˆï¼Œé‚£ä¹ˆä¸å­˜åœ¨è®¾å¤‡å‰çš„æ‰€æœ‰å­˜åœ¨è®¾å¤‡å°†è¢«é‡æ–°ç¼–å·ï¼Œä¸å­˜åœ¨è®¾å¤‡ä¹‹åçš„æ‰€æœ‰è®¾å¤‡å°†è¢«å±è”½&lt;/li&gt;
&lt;/ul&gt;

&lt;ol&gt;
  &lt;li&gt;åœ¨ç»ˆç«¯ä¸­è®¾ç½®
 &lt;code class=&quot;highlighter-rouge&quot;&gt;CUDA_VISIBLE_DEVICES=0,1 python my_script.py&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;pythonä»£ç å¼€å¤´è®¾ç½®
 &lt;code class=&quot;highlighter-rouge&quot;&gt;os.environ[&quot;CUDA_VISIBLE_DEVICES&quot;] = &quot;0,2&quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;pytorchä½¿ç”¨gpu&quot;&gt;PyTorchä½¿ç”¨GPU&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;data.cuda()&lt;/code&gt;: the old, pre-0.4 way&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;data.to(device)&lt;/code&gt;: more flexible. For example, &lt;code class=&quot;highlighter-rouge&quot;&gt;data.to('cuda:1')&lt;/code&gt; put data to GPU1&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;å•æœºå•å¡&quot;&gt;å•æœºå•å¡&lt;/h4&gt;
&lt;p&gt;å¦‚æœä¸è®¾ç½®Dataparallelï¼Œå³ä½¿ä¸€å°æœºå™¨ä¸Šæœ‰å¤šä¸ªGPUï¼Œpytorchä¹Ÿåªä¼šå ç”¨ç¼–å·ä¸º0çš„GPU&lt;/p&gt;

&lt;h4 id=&quot;å•æœºå¤šå¡&quot;&gt;å•æœºå¤šå¡&lt;/h4&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# have to put model and data to GPU0
&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# model
&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DataParallel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'cuda:0'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# data
&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'cuda:0'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;nn.DataParallel&lt;/code&gt;é»˜è®¤ä½¿ç”¨å¯è§çš„æ‰€æœ‰æ˜¾å¡ã€‚å¦‚æœåªæƒ³ä½¿ç”¨ç‰¹å®šçš„æ˜¾å¡ï¼Œå¯ä»¥&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;ä¿®æ”¹CUDA_VISIBLE_DEVICESç¯å¢ƒå˜é‡&lt;/li&gt;
  &lt;li&gt;ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;nn.DataParallel(model, device_ids=[1,2])&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;Noteï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;nn.DataParallel&lt;/code&gt;è¿”å›çš„modelæ˜¯DataParallelï¼Œè€Œä¸æ˜¯åŸæ¥çš„modelã€‚åŸæ¥çš„modelè¢«ä¿å­˜åœ¨è¿”å›çš„modelçš„moduleå±æ€§ä¸­(model.module)&lt;/strong&gt;&lt;/p&gt;

&lt;h4 id=&quot;å¤šæœºå¤šå¡&quot;&gt;å¤šæœºå¤šå¡&lt;/h4&gt;
&lt;p&gt;å¾…å¡«&lt;/p&gt;

&lt;h4 id=&quot;å‚è€ƒèµ„æ–™&quot;&gt;å‚è€ƒèµ„æ–™&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;https://www.jianshu.com/p/0816c3a5fa5c&lt;/li&gt;
  &lt;li&gt;https://zhuanlan.zhihu.com/p/86441879&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Thu, 04 Jun 2020 00:00:00 -0400</pubDate>
        <link>http://localhost:4000/2020/06/04/PyTorch%E5%A4%9A%E5%8D%A1%E8%AE%AD%E7%BB%83/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/06/04/PyTorch%E5%A4%9A%E5%8D%A1%E8%AE%AD%E7%BB%83/</guid>
        
        <category>PyTorch</category>
        
        
      </item>
    
      <item>
        <title>è¯­ä¹‰åˆ†å‰²è¯„ä»·æŒ‡æ ‡</title>
        <description>
&lt;h4 id=&quot;è¯„ä»·æŒ‡æ ‡&quot;&gt;è¯„ä»·æŒ‡æ ‡&lt;/h4&gt;
&lt;p&gt;Let $n_{ij}$ be the number of pixels of class $i$ predicted to belong to class $j$, where there are $n_{cl}$ different classes, and let $t_i=\sum_jn_{ij}$ be the total number of pixels of class $i$.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;pixel accuracy: $\frac{\sum\limits_i n_{ii}}{\sum\limits_i t_{i}}$&lt;/li&gt;
  &lt;li&gt;mean pixel accuracy $\frac{1}{n_{cl}}\sum\limits_i \frac{n_{ii}}{ t_{i}}$&lt;/li&gt;
  &lt;li&gt;mean IoU: $\frac{1}{n_{cl}}\sum\limits_i \frac{n_{ii}}{t_i+\sum\limits_j n_{ji}-n_{ii}}$&lt;/li&gt;
  &lt;li&gt;frequency weighted IoU $\frac{1}{\sum\limits_k t_k}\sum\limits_i \frac{t_i n_{ii}}{t_i+\sum\limits_j n_{ji}-n_{ii}}$&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;reference&quot;&gt;Reference&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;Fully Convolutional Networks for Semantic Segmentation&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Mon, 01 Jun 2020 00:00:00 -0400</pubDate>
        <link>http://localhost:4000/2020/06/01/segmentation-metrics/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/06/01/segmentation-metrics/</guid>
        
        <category>Metrics</category>
        
        
      </item>
    
      <item>
        <title>è¯­ä¹‰åˆ†å‰²æŸå¤±å‡½æ•°</title>
        <description>
&lt;p&gt;&lt;strong&gt;Noteï¼š ä»¥ä¸‹è™½ç„¶å°†é¢„æµ‹ç»“æœç§°ä¸ºæ¦‚ç‡ï¼Œä½†å…¶æœ¬èº«å¹¶ä¸å…·æœ‰æ¦‚ç‡çš„å†…åœ¨å«ä¹‰ï¼Œå…¶æœ¬è´¨ä¸Šåªæ˜¯å„ä¸ªç±»åˆ«çš„å¾—åˆ†æƒ…å†µã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;h4 id=&quot;cross-entropyç³»åˆ—&quot;&gt;cross entropyç³»åˆ—&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;æŠŠæ¯ä¸ªåƒç´ çœ‹ä½œä¸€ä¸ªå•ç‹¬çš„sample&lt;/li&gt;
  &lt;li&gt;æ•´ä¸ªå›¾åƒçš„lossæ˜¯æ‰€æœ‰åƒç´ lossçš„ï¼ˆåŠ æƒï¼‰å¹³å‡å€¼&lt;/li&gt;
  &lt;li&gt;å®é™…ä½¿ç”¨ä¸­ï¼Œå¯ä»¥ç”¨weighted focal lossï¼š$\text{pixel loss}=-\sum\limits_{classes}\alpha_{class}(1-y_{pred})^\gamma \times y_{true}log(y_{pred})$ï¼Œä»¥åŒæ—¶è§£å†³éš¾å­¦ä¹ æ ·æœ¬é—®é¢˜å’Œæ ·æœ¬æ•°é‡ä¸å‡è¡¡é—®é¢˜&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;basic-ce-loss&quot;&gt;basic CE loss&lt;/h5&gt;
&lt;ol&gt;
  &lt;li&gt;cross entropy loss ï¼ˆce lossï¼‰
    &lt;ul&gt;
      &lt;li&gt;é€‚ç”¨äºäºŒåˆ†ç±»åŠå¤šåˆ†ç±»é—®é¢˜&lt;/li&gt;
      &lt;li&gt;ç”¨å¤šé€šé“one-hotæ ‡ç­¾è¡¨ç¤ºground-truthã€‚predictionåŒæ ·ä¸ºå¤šé€šé“ï¼Œæ¯ä¸ªé€šé“è¡¨ç¤ºå±äºå„ä¸ªç±»çš„æ¦‚ç‡&lt;/li&gt;
      &lt;li&gt;ç”¨ä¸€ä¸ªåƒç´ çš„é¢„æµ‹ç»“æœï¼ˆæ¦‚ç‡åˆ†å¸ƒå‘é‡ï¼‰å’Œå®ƒçš„one-hotæ ‡ç­¾å‘é‡æ¯”è¾ƒï¼Œå¾—åˆ°è¯¥åƒç´ çš„æŸå¤±ï¼š$\text{pixel loss}=-\sum\limits_{classes}y_{true}log(y_{pred})=-log(y_{\text{true_pred}})$ã€‚åŒ–ç®€åçš„ç»“æœå°±æ˜¯è¯¥åƒç´ çš„çœŸå®ç±»åˆ«æ‰€å¯¹åº”çš„é¢„æµ‹å€¼çš„è´Ÿlogå€¼ã€‚&lt;br /&gt;
 &lt;img src=&quot;/img/15907867544949.jpg&quot; width=&quot;50%&quot; height=&quot;100%&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;binary cross entropy loss ï¼ˆbce lossï¼‰
    &lt;ul&gt;
      &lt;li&gt;é€‚ç”¨äºäºŒåˆ†ç±»é—®é¢˜&lt;/li&gt;
      &lt;li&gt;å•é€šé“å›¾è¡¨ç¤ºground truthï¼Œ0ä¸ºè´Ÿæ ·æœ¬ï¼Œ1ä¸ºæ­£æ ·æœ¬ã€‚predictionåŒæ ·ä¸ºå•é€šé“ï¼Œè¡¨ç¤ºä¸º1ï¼ˆæ­£æ ·æœ¬ï¼‰çš„æ¦‚ç‡&lt;/li&gt;
      &lt;li&gt;æ¯ä¸ªåƒç´ çš„æŸå¤±ä¸ºï¼š$\text{bce loss}=-y_{true}log(y_{pred})-(1-y_{true})log(1-y_{pred})$&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h5 id=&quot;weighed-ce-loss&quot;&gt;weighed CE loss&lt;/h5&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;é’ˆå¯¹åœ¨å›¾åƒä¸­å¤šä¸ªç±»çš„æ ·æœ¬ä¸å‡è¡¡é—®é¢˜&lt;/strong&gt;ã€‚åŸºæœ¬çš„äº¤å‰ç†µæŸå¤±ä¸ºå„ä¸ªåƒç´ æŸå¤±çš„å¹³å‡å€¼ï¼Œä¹Ÿå°±æ˜¯å¹³ç­‰çš„å¯¹å¾…å„ä¸ªåƒç´ ï¼ˆæ ·æœ¬ï¼‰ã€‚&lt;strong&gt;æ­¤æ—¶å¦‚æœå¤šä¸ªç±»çš„æ ·æœ¬æ•°é‡åˆ†å¸ƒä¸å‡è¡¡ï¼Œå›¾åƒæœ€ç»ˆçš„æŸå¤±å°†ç”±æ ·æœ¬æ•°é‡å¤šçš„ç±»åˆ«å¯¹åº”çš„æŸå¤±æ‰€ä¸»å¯¼ï¼Œå¯¼è‡´æ¨¡å‹ä¼šä¸»è¦å­¦ä¹ æ ·æœ¬æ•°é‡å¤šçš„ç±»åˆ«çš„ç‰¹å¾ï¼Œå¹¶ä¸”å­¦ä¹ å‡ºæ¥çš„æ¨¡å‹ä¼šæ›´åå‘å°†åƒç´ é¢„æµ‹ä¸ºè¯¥ç±»åˆ«&lt;/strong&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;ä¸ºäº†é¿å…å›¾åƒæœ€ç»ˆçš„æŸå¤±ç”±æ ·æœ¬æ•°é‡å¤šçš„ç±»åˆ«å¯¹åº”çš„æŸå¤±æ‰€ä¸»å¯¼ï¼Œå¯ä»¥é€‰æ‹©å¢å¤§æ ·æœ¬æ•°é‡å°‘çš„ç±»çš„æŸå¤±ï¼Œå³ä¸ºä¸åŒæ ·æœ¬æ•°é‡çš„ç±»åˆ«å¯¹åº”çš„æŸå¤±æ·»åŠ ä¸åŒçš„æƒé‡&lt;/li&gt;
  &lt;li&gt;åŠ æƒäº¤å‰ç†µæŸå¤±å‡½æ•°ï¼š$\text{pixel loss}=-\sum\limits_{classes}\alpha_{class}\times y_{true}log(y_{pred})$ï¼Œå…¶ä¸­ $\alpha_{class}$ å¯¹åº”ä¸åŒç±»åˆ«çš„æƒé‡&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;focal-loss&quot;&gt;focal loss&lt;/h5&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;ä½¿ç½‘ç»œæ›´åŠ å…³æ³¨éš¾å­¦ä¹ æ ·æœ¬&lt;/strong&gt;ã€‚å½“å›¾åƒä¸­å­˜åœ¨å¤§é‡çš„æ˜“å­¦ä¹ åƒç´ ï¼ˆå¯¹åº”ç±»åˆ«çš„ $y_{pred}&amp;gt;0.5$ï¼‰å’Œå°‘é‡çš„éš¾å­¦ä¹ åƒç´ ï¼ˆå¯¹åº”ç±»åˆ«çš„ $y_{pred}&amp;lt;0.5$ï¼‰æ—¶ï¼Œè™½ç„¶æ˜“å­¦ä¹ åƒç´ çš„losså°äºéš¾å­¦ä¹ åƒç´ çš„lossï¼Œä½†ç”±äºæ ·æœ¬æ•°é‡çš„å½±å“ï¼Œ&lt;strong&gt;å¤§é‡æ˜“å­¦ä¹ åƒç´ æ€»ä½“çš„lossä¹Ÿå°†è¿œè¿œè¶…è¿‡å°‘é‡éš¾å­¦ä¹ åƒç´ æ€»ä½“çš„lossï¼Œä½¿å¾—å›¾åƒæœ€ç»ˆçš„lossç”±å¤§é‡æ˜“å­¦ä¹ åƒç´ çš„lossæ‰€ä¸»å¯¼ï¼Œå¯¼è‡´æ¨¡å‹è¶‹å‘äºç»§ç»­å…³æ³¨å¤§é‡æ˜“å­¦ä¹ çš„æ ·æœ¬ï¼Œè€Œä¸ä¼šå…³æ³¨éš¾å­¦ä¹ çš„æ ·æœ¬&lt;/strong&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;focal lossä¿®æ”¹äº¤å‰ç†µæŸå¤±å‡½æ•°ä¸ºï¼š$\text{pixel loss}=-\sum\limits_{classes}(1-y_{pred})^\gamma \times y_{true}log(y_{pred})$ï¼Œå…¶ä¸­ $y_{pred}$ è¶Šå°ï¼ˆè¶Šéš¾å­¦ä¹ ï¼‰ï¼Œå¯¹åº”çš„æƒé‡è¶Šå¤§ã€‚å®éªŒè¡¨æ˜ $\gamma=2$ æ•ˆæœæœ€å¥½ã€‚&lt;/li&gt;
  &lt;li&gt;focal lossä¹Ÿä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†æ ·æœ¬æ•°é‡ä¸å¹³è¡¡é—®é¢˜ã€‚å› ä¸ºæ ·æœ¬æ•°é‡å°‘çš„ç±»åˆ«å¯¹åº”çš„åƒç´ å¾€å¾€ä¹Ÿæ˜¯éš¾å­¦ä¹ çš„åƒç´ ï¼Œå› æ­¤å…³æ³¨éš¾å­¦ä¹ æ ·æœ¬æœ‰åŠ©äºå…³æ³¨æ ·æœ¬æ•°é‡å°‘çš„ç±»åˆ«ã€‚
&lt;img src=&quot;/img/15908083180433.jpg&quot; width=&quot;60%&quot; height=&quot;100%&quot; /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;dice-lossç³»åˆ—&quot;&gt;dice lossç³»åˆ—&lt;/h4&gt;
&lt;p&gt;å¾…å¡«â€¦&lt;/p&gt;

&lt;h4 id=&quot;å‚è€ƒèµ„æ–™&quot;&gt;å‚è€ƒèµ„æ–™&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/101773544&quot;&gt;link1&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://niecongchong.github.io/2019/08/06/%E8%AF%AD%E4%B9%89%E5%88%86%E5%89%B2%E6%8D%9F%E5%A4%B1%E5%87%BD%E6%95%B0%E6%80%BB%E7%BB%93/&quot;&gt;link2&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Fri, 29 May 2020 00:00:00 -0400</pubDate>
        <link>http://localhost:4000/2020/05/29/segmentation-loss/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/05/29/segmentation-loss/</guid>
        
        <category>Loss</category>
        
        
      </item>
    
      <item>
        <title>Learning rate scheduler</title>
        <description>
&lt;h4 id=&quot;take-away-message&quot;&gt;Take away message&lt;/h4&gt;
&lt;p&gt;æ€»ä½“æ¥è¯´ï¼Œå­¦ä¹ ç‡å‘ˆç°â€œä¸Šå‡â€”â€”å¹³ç¨³â€”â€”ä¸‹é™â€çš„è§„å¾‹ã€‚&lt;/p&gt;

&lt;h4 id=&quot;warm-up&quot;&gt;Warm up&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;å‡ç¼“æ¨¡å‹åœ¨è®­ç»ƒåˆæœŸè¿‡æ‹Ÿåˆmini-batch  &lt;br /&gt;
 ä¸ªäººçŒœæµ‹ï¼š
    &lt;ul&gt;
      &lt;li&gt;åœ¨ç¬¬ä¸€è½®è®­ç»ƒçš„æ—¶å€™ï¼ˆå°¤å…¶æ˜¯è®­ç»ƒåˆšå¼€å§‹ï¼‰ï¼Œæ¨¡å‹åªè§è¿‡éƒ¨åˆ†æ•°æ®ï¼Œæ­¤æ—¶æ¢¯åº¦å¤§æ¦‚ç‡æ˜¯åç¦»ç›¸å¯¹å…¨å±€çœŸæ­£è¾ƒä¼˜çš„æ–¹å‘çš„ï¼ˆæ­¤æ—¶å¾ˆå¤§æ¦‚ç‡æ˜¯è¿‡æ‹Ÿåˆå½“å‰å°éƒ¨åˆ†æ•°æ®çš„æ–¹å‘ï¼‰ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨è¾ƒå°çš„å­¦ä¹ ç‡ï¼Œä»¥å…å¯¹å½“å‰å°éƒ¨åˆ†æ•°æ®è¿‡æ‹Ÿåˆï¼Œå¯¹åé¢è®­ç»ƒé€ æˆå½±å“ï¼ˆå½±å“æœ‰ä¸¤ç§å¯èƒ½ï¼š1ï¼‰éœ€è¦åé¢å¤šè½®è®­ç»ƒæ¥ä¿®æ­£ä¹‹é—´çš„åå·®ï¼›2ï¼‰åå·®å¤ªå¤§ï¼Œåé¢å¤šè½®è®­ç»ƒä¹Ÿæ²¡ç”¨ï¼Œæœ€åaccuracyä¸‹é™ï¼‰ã€‚&lt;/li&gt;
      &lt;li&gt;å½“è®­ç»ƒäº†ä¸€æ®µæ—¶é—´ï¼ˆæ¯”å¦‚ä¸¤è½®ã€ä¸‰è½®ï¼‰åï¼Œæ¨¡å‹è§è¿‡äº†å…¨éƒ¨æ•°æ®ï¼Œæ­¤æ—¶æ¢¯åº¦åŸºæœ¬ç¬¦åˆç›¸å¯¹å…¨å±€çœŸæ­£è¾ƒä¼˜çš„æ–¹å‘ï¼Œæ‰€ä»¥å¯ä»¥é€‚å½“è°ƒå¤§å­¦ä¹ ç‡ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;æœ‰åŠ©äºä¿æŒæ¨¡å‹æ·±å±‚çš„ç¨³å®šæ€§&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;learning-rate-decay&quot;&gt;Learning rate decay&lt;/h4&gt;
&lt;p&gt;å­¦ä¹ ç‡è¡°å‡çš„åŸºæœ¬æ€æƒ³æ˜¯å­¦ä¹ ç‡éšç€è®­ç»ƒçš„è¿›è¡Œé€æ¸è¡°å‡ï¼Œå³åœ¨å¼€å§‹çš„æ—¶å€™ä½¿ç”¨è¾ƒå¤§çš„å­¦ä¹ ç‡ï¼ŒåŠ å¿«é è¿‘æœ€å°å€¼çš„é€Ÿåº¦ï¼Œåœ¨åæ¥äº›æ—¶å€™ç”¨è¾ƒå°çš„å­¦ä¹ ç‡ï¼Œæé«˜ç¨³å®šæ€§ï¼Œé¿å…å› å­¦ä¹ ç‡å¤ªå¤§è·³è¿‡æœ€å°å€¼ï¼Œä¿è¯èƒ½å¤Ÿæ”¶æ•›åˆ°æœ€å°å€¼ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;step(å›ºå®šæ­¥é•¿è¡°å‡): æ¯éš”step_sizeä¸ªepochåï¼Œlrè¡°å‡ä¸ºåŸæ¥çš„gammaå€&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/img/15906775729941.jpg&quot; width=&quot;50%&quot; height=&quot;100%&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;multistep(å¤šæ­¥é•¿è¡°å‡): åŠ¨æ€æ­¥é•¿æ§åˆ¶ï¼Œlrè¡°å‡ä¸ºåŸæ¥çš„gammaå€&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/img/15906776874073.jpg&quot; width=&quot;50%&quot; height=&quot;100%&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;poly(å¤šé¡¹å¼è¡°å‡): $lr = \text{base_lr} * (1 - \frac{T_{cur}}{T_{max}}) ^ {power} $
    &lt;ul&gt;
      &lt;li&gt;å­¦ä¹ ç‡æ›²çº¿çš„å½¢çŠ¶ä¸»è¦ç”±å‚æ•° power çš„å€¼æ¥æ§åˆ¶ã€‚å½“ power = 1 çš„æ—¶å€™ï¼Œå­¦ä¹ ç‡æ›²çº¿ä¸ºä¸€æ¡ç›´çº¿ã€‚å½“ power &amp;lt; 1 çš„æ—¶å€™ï¼Œä¸‹é™é€Ÿç‡ç”±æ…¢åˆ°å¿«ã€‚å½“ power &amp;gt; 1 çš„æ—¶å€™ï¼Œä¸‹é™é€Ÿç‡ç”±å¿«åˆ°æ…¢ã€‚
 &lt;img src=&quot;/img/15906784236558.jpg&quot; width=&quot;85%&quot; height=&quot;100%&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;cosine(ä½™å¼¦è¡°å‡): $lr = \frac{1}{2}*\text{base_lr} * \left(1+ \cos\left(\frac{T_{cur}}{T_{max}}\pi\right)\right)$
    &lt;ul&gt;
      &lt;li&gt;ä½™å¼¦å€¼é¦–å…ˆç¼“æ…¢ä¸‹é™ï¼Œç„¶ååŠ é€Ÿä¸‹é™ï¼Œä¹‹åå†æ¬¡ç¼“æ…¢ä¸‹é™ã€‚&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;&lt;img src=&quot;/img/15906782692333.jpg&quot; width=&quot;50%&quot; height=&quot;100%&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;warm-restart&quot;&gt;Warm restart&lt;/h4&gt;
&lt;p&gt;TODO&lt;/p&gt;

&lt;h4 id=&quot;å‚è€ƒèµ„æ–™&quot;&gt;å‚è€ƒèµ„æ–™&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.zhihu.com/question/338066667&quot;&gt;warm up&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://lumingdong.cn/setting-strategy-of-gradient-descent-learning-rate.html&quot;&gt;cosine&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/39565465&quot;&gt;poly&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/93624972&quot;&gt;step and multistep&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

</description>
        <pubDate>Thu, 28 May 2020 00:00:00 -0400</pubDate>
        <link>http://localhost:4000/2020/05/28/learning-rate/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/05/28/learning-rate/</guid>
        
        <category>Model Training</category>
        
        
      </item>
    
      <item>
        <title>batch sizeä¸learning rate</title>
        <description>&lt;p&gt;&lt;a href=&quot;https://arxiv.org/pdf/1706.02677.pdf&quot;&gt;Paper link&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;take-away-message&quot;&gt;Take away message&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;å½“æ»¡è¶³ä¸€å®šæ¡ä»¶ä¸‹ï¼Œbatch_sizeå¢å¤§kå€æ—¶ï¼Œlrå¯ä»¥ç›´æ¥ç›¸åº”å¢å¤§kå€&lt;/li&gt;
  &lt;li&gt;è®­ç»ƒåˆæœŸä¸æ»¡è¶³1)æ‰€éœ€çš„æ¡ä»¶ï¼Œæ­¤æ—¶lréœ€è¦ä½¿ç”¨warm up&lt;/li&gt;
  &lt;li&gt;underlying loss functionå—batch sizeå½±å“ã€‚ä¸ºäº†ä¸æ”¹å˜underlying loss functionï¼Œåœ¨å¢å¤§batch_sizeæ—¶ï¼Œå…¶å®å¹¶ä¸æ˜¯æ”¹å˜per-worker sample size nï¼Œè€Œæ˜¯å¢å¤§the number of workers k&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;linear-scaling-rule&quot;&gt;Linear Scaling Rule&lt;/h4&gt;
&lt;p&gt;è®¾æœ‰ k ä¸ªmini-batch $B_0, \cdots, B_{k-1}$:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;$lr=\eta$, ä½¿ç”¨å°batch_size $B_j$è®­ç»ƒï¼Œå…±è®­ k ä¸ªiterationï¼ˆ$j=0, \cdots, k-1$ï¼‰ï¼š&lt;br /&gt;
 &lt;img src=&quot;/img/15906983171534.jpg&quot; width=&quot;40%&quot; height=&quot;100%&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;$lr = \hat{\eta}$, ä½¿ç”¨å¤§batch-size $\cup_j{B_j}$è®­ä¸€ä¸ªiterationï¼š
 &lt;img src=&quot;/img/15906986727563.jpg&quot; width=&quot;40%&quot; height=&quot;100%&quot; /&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;1å’Œ2å¯¹åº”ä¸åŒçš„æ›´æ–°æ–¹å¼ï¼Œå› æ­¤ä¸å¤ªå¯èƒ½æœ‰$\hat w_{t+1} = w_{t+k}$ã€‚ä½†æ˜¯ï¼Œ&lt;strong&gt;å¦‚æœæˆ‘ä»¬å‡è®¾$\nabla l(x,w_t) \approx \nabla l(x,w_{t+j})$ for $j &amp;lt; k$ï¼Œé‚£ä¹ˆåœ¨ $\hat \eta =k\eta$ æ¡ä»¶ä¸‹èƒ½æ¨å‡º $\hat w_{t+1} \approx  w_{t+k}$ï¼Œå³ä½¿ç”¨ä¸åŒbatch-sizeå¾—åˆ°ç›¸ä¼¼çš„æ›´æ–°ç»“æœ&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;h4 id=&quot;warm-up&quot;&gt;Warm up&lt;/h4&gt;
&lt;p&gt;åœ¨è®­ç»ƒçš„å¼€å§‹é˜¶æ®µï¼Œæ¨¡å‹æƒé‡è¿…é€Ÿæ”¹å˜ï¼Œä¸æ»¡è¶³linear scaling ruleä¸­çš„æ¡ä»¶ã€‚æ­¤æ—¶ä½¿ç”¨gradual warmupæœ‰åŠ©äºè§£å†³è®­ç»ƒä¸­å‡ºç°çš„é—®é¢˜ã€‚&lt;/p&gt;

&lt;h4 id=&quot;batch-normalization&quot;&gt;Batch normalization&lt;/h4&gt;
&lt;p&gt;å¦‚æœæœ‰BNå±‚ï¼Œé‚£ä¹ˆæ¯ä¸ªsampleçš„losså…¶å®å¹¶ä¸æ˜¯ç‹¬ç«‹çš„ï¼Œè€Œæ˜¯ä¸å…¶æ‰€åœ¨çš„mini-batchæœ‰å…³ï¼ˆå› ä¸ºä¼šæ ¹æ®æ¯ä¸ªmini-batchçš„mean/stdåšnormalizationï¼‰ã€‚ç”±äºä¸åŒçš„mini-batch sizeä¼šå¯¼è‡´ä¸åŒçš„mean/variance statistics distributionï¼Œå› æ­¤æ”¹å˜mini-batch sizeä¼šæ”¹å˜underlying loss functionã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†ä¸æ”¹å˜underlying loss functionï¼Œæ ¹æ®ä¸Šè¿°åˆ†æï¼Œåœ¨å¢å¤§mini-batch sizeæ—¶ï¼Œæˆ‘ä»¬å…¶å®ä¸åº”è¯¥æ”¹å˜per-worker sample size nï¼ˆbatch statisticsæ˜¯åœ¨æ¯ä¸ªworkerä¸Šå•ç‹¬è®¡ç®—çš„ï¼‰ï¼Œè€Œæ˜¯åº”è¯¥å¢å¤§the number of workers kã€‚é€šå¸¸n=32åœ¨å¤§éƒ¨åˆ†æ•°æ®é›†å’Œç½‘ç»œä¸Šéƒ½è¡¨ç°è‰¯å¥½ã€‚&lt;/p&gt;

</description>
        <pubDate>Thu, 28 May 2020 00:00:00 -0400</pubDate>
        <link>http://localhost:4000/2020/05/28/batch-size%E4%B8%8Elearning-rate/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/05/28/batch-size%E4%B8%8Elearning-rate/</guid>
        
        <category>Model Training</category>
        
        
      </item>
    
      <item>
        <title>Image Preprocessing</title>
        <description>
&lt;p&gt;åŸæ–‡ï¼š&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;https://medium.com/nanonets/how-to-use-deep-learning-when-you-have-limited-data-part-2-data-augmentation-c26971dc8ced&lt;/li&gt;
  &lt;li&gt;https://freecontent.manning.com/the-computer-vision-pipeline-part-3-image-preprocessing/&lt;/li&gt;
  &lt;li&gt;https://www.codecademy.com/articles/normalization&lt;/li&gt;
  &lt;li&gt;https://www.infoq.cn/article/kyXx3sRKNsdFgqapv2Gw&lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;No free lunch theorem for optimization:
In ML project, it means that thereâ€™s no single prescribed recipe that is guaranteed to work well in all situations. We must make certain assumption about the dataset and the problem we are trying to solve.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;why-image-preprocessing&quot;&gt;why image preprocessing&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;The acquired data are usually messy and come from different sources, they need to be standardized and cleaned up.&lt;/li&gt;
  &lt;li&gt;We canâ€™t write a unique algorithm for each of the condition in which an image is taken, thus, when we acquire an image, we tend to convert it into a form that allows a general algorithm to solve it.&lt;/li&gt;
  &lt;li&gt;It can reduce the complexity and increase the accuracy of the applied algorithm.&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;å½©è‰²å›¾åƒ--ç°åº¦å›¾åƒ&quot;&gt;å½©è‰²å›¾åƒ / ç°åº¦å›¾åƒ&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;In many objects, color isnâ€™t necessary to recognize and interpret an image. Grayscale can be good enough for recognizing certain objects. Because color images contain more information than black and white images, they can add unnecessary complexity and take up more space in memory.
 &lt;img src=&quot;/img/15904315018825.jpg&quot; width=&quot;100%&quot; height=&quot;100%&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;In other applications, color is important to define certain objects. Like skin cancer detection which relies heavily on the skin colors (red rashes).&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;standardize-image&quot;&gt;Standardize Image&lt;/h4&gt;
&lt;h5 id=&quot;reason&quot;&gt;Reason&lt;/h5&gt;
&lt;ol&gt;
  &lt;li&gt;If we didnâ€™t scale our input training vectors, the ranges of our distributions of feature values would likely be different for each feature, and thus the learning rate would &lt;strong&gt;cause corrections in each dimension that would differ (proportionally speaking) from one another&lt;/strong&gt;. We might be over compensating a correction in one weight dimension while undercompensating in another.&lt;/li&gt;
  &lt;li&gt;In the process of training our network, weâ€™re going to be multiplying (weights) and adding to (biases) these initial inputs in order to cause activations that we then backpropogate with the gradients to train the model. Weâ€™d like in this process for each feature to have a similar range so that our &lt;strong&gt;gradients donâ€™t go out of control&lt;/strong&gt;.&lt;/li&gt;
&lt;/ol&gt;

&lt;h5 id=&quot;ways&quot;&gt;ways&lt;/h5&gt;
&lt;ol&gt;
  &lt;li&gt;Min-max normalization $\frac{\text{value}-\text{min}}{\text{max}-\text{min}}$: Guarantees all features will have the exact same scale but does not handle outliers well.&lt;br /&gt;
 &lt;img src=&quot;/img/15904331747160.jpg&quot; width=&quot;60%&quot; height=&quot;100%&quot; /&gt;&lt;br /&gt;
 Normalizing fixed the squishing problem on the y-axis, but the x-axis is still problematic. Now if we were to compare these points, the y-axis would dominate; the y-axis can differ by 1, but the x-axis can only differ by 0.4.&lt;/li&gt;
  &lt;li&gt;Z-score normalization $\frac{value-mean}{std}$: Handles outliers, but does not produce normalized data with the exact same scale.&lt;br /&gt;
 &lt;img src=&quot;/img/15904332447812.jpg&quot; width=&quot;60%&quot; height=&quot;100%&quot; /&gt;&lt;br /&gt;
 While the data still looks squished, notice that the points are now on roughly the same scale for both features â€” almost all points are between -2 and 2 on both the x-axis and y-axis.&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;data-augmentation&quot;&gt;Data Augmentation&lt;/h4&gt;

&lt;h5 id=&quot;åˆ†ç±»&quot;&gt;åˆ†ç±»&lt;/h5&gt;
&lt;ul&gt;
  &lt;li&gt;æœ‰ç›‘ç£çš„æ•°æ®å¢å¼ºï¼šé‡‡ç”¨é¢„è®¾çš„æ•°æ®å˜æ¢è§„åˆ™ï¼Œåœ¨å·²æœ‰æ•°æ®çš„åŸºç¡€ä¸Šè¿›è¡Œæ•°æ®çš„æ‰©å¢
    &lt;ul&gt;
      &lt;li&gt;å•æ ·æœ¬æ•°æ®å¢å¼ºï¼šå¢å¼ºä¸€ä¸ªæ ·æœ¬çš„æ—¶å€™ï¼Œå…¨éƒ¨å›´ç»•ç€è¯¥æ ·æœ¬æœ¬èº«è¿›è¡Œæ“ä½œ
        &lt;ul&gt;
          &lt;li&gt;å‡ ä½•æ“ä½œç±»ï¼šå¯¹å›¾åƒè¿›è¡Œå‡ ä½•å˜æ¢ï¼ŒåŒ…æ‹¬ç¿»è½¬ï¼Œæ—‹è½¬ï¼Œè£å‰ªï¼Œå˜å½¢ï¼Œç¼©æ”¾ç­‰å„ç±»æ“ä½œ
            &lt;ul&gt;
              &lt;li&gt;å¯èƒ½ä¼šå¼•å…¥å›¾åƒè¾¹ç•Œä¹‹å¤–çš„ä½ç½®ï¼Œå¯¼è‡´æ²¡æœ‰å›¾åƒæ²¡æœ‰è¦†ç›–çš„é»‘è‰²åŒºåŸŸï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡å¸¸æ•°ã€è¾¹ç¼˜ã€åå°„ã€å¯¹ç§°ç­‰æ–¹å¼å¡«å……æœªçŸ¥åŒºåŸŸ&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;é¢œè‰²å˜æ¢ç±»ï¼šæ”¹å˜å›¾åƒæœ¬èº«çš„å†…å®¹ï¼ŒåŒ…æ‹¬å™ªå£°ã€æ¨¡ç³Šã€é¢œè‰²å˜æ¢ï¼ˆHSVï¼Œå¯¹æ¯”åº¦å˜æ¢ï¼‰ã€æ“¦é™¤ã€å¡«å……
            &lt;ul&gt;
              &lt;li&gt;é«˜æ–¯å™ªå£°ï¼šå½“ç¥ç»ç½‘ç»œè¯•å›¾å­¦ä¹ å¯èƒ½å¹¶æ— ç”¨å¤„çš„é«˜é¢‘ç‰¹å¾æ—¶ï¼ˆå³é¢‘ç¹å‘ç”Ÿçš„æ— æ„ä¹‰æ¨¡å¼ï¼‰ï¼Œå¸¸å¸¸ä¼šå‘ç”Ÿè¿‡æ‹Ÿåˆã€‚å…·æœ‰é›¶å‡å€¼ç‰¹å¾çš„é«˜æ–¯å™ªå£°æœ¬è´¨ä¸Šå°±æ˜¯åœ¨æ‰€æœ‰é¢‘ç‡ä¸Šéƒ½æœ‰æ•°æ®ç‚¹ï¼Œèƒ½æœ‰æ•ˆä½¿å¾—é«˜é¢‘ç‰¹å¾å¤±çœŸï¼Œå‡å¼±å®ƒå¯¹æ¨¡å‹çš„å½±å“ã€‚è¿™ä¹Ÿæ„å‘³ç€ä½é¢‘æˆåˆ†ï¼ˆé€šå¸¸ä¹Ÿæ˜¯æˆ‘ä»¬å…³å¿ƒçš„æ•°æ®ï¼‰ä¹Ÿä¼šå¤±çœŸï¼Œä½†ç¥ç»ç½‘ç»œèƒ½å¤Ÿé€šè¿‡å­¦ä¹ å¿½ç•¥è¿™éƒ¨åˆ†å½±å“ã€‚æ·»åŠ æ­£ç¡®æ•°é‡çš„å™ªå£°å°±èƒ½å¢å¼ºç¥ç»ç½‘ç»œçš„å­¦ä¹ èƒ½åŠ›ã€‚&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;å¤šæ ·æœ¬æ•°æ®å¢å¼ºæ–¹æ³•ï¼šåˆ©ç”¨å¤šä¸ªæ ·æœ¬æ¥äº§ç”Ÿæ–°çš„æ ·æœ¬
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;https://www.jair.org/index.php/jair/article/view/10302/24590&quot;&gt;SMOTE&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;https://arxiv.org/pdf/1801.02929.pdf&quot;&gt;SamplePairing&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;https://arxiv.org/pdf/1710.09412.pdf&quot;&gt;mixup&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;SMOTEï¼ŒSamplePairingï¼Œmixup ä¸‰è€…æ€è·¯ä¸Šæœ‰ç›¸åŒä¹‹å¤„ï¼Œéƒ½æ˜¯è¯•å›¾å°†ç¦»æ•£æ ·æœ¬ç‚¹è¿ç»­åŒ–æ¥æ‹ŸåˆçœŸå®æ ·æœ¬åˆ†å¸ƒï¼Œä¸è¿‡æ‰€å¢åŠ çš„æ ·æœ¬ç‚¹åœ¨ç‰¹å¾ç©ºé—´ä¸­ä»ä½äºå·²çŸ¥å°æ ·æœ¬ç‚¹æ‰€å›´æˆçš„åŒºåŸŸå†…ã€‚å¦‚æœèƒ½å¤Ÿåœ¨ç»™å®šèŒƒå›´ä¹‹å¤–é€‚å½“æ’å€¼ï¼Œä¹Ÿè®¸èƒ½å®ç°æ›´å¥½çš„æ•°æ®å¢å¼ºæ•ˆæœã€‚&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;æ— ç›‘ç£çš„æ•°æ®å¢å¼ºæ–¹æ³•
    &lt;ul&gt;
      &lt;li&gt;ç”Ÿæˆæ–°çš„æ•°æ®: é€šè¿‡æ¨¡å‹å­¦ä¹ æ•°æ®çš„åˆ†å¸ƒï¼Œéšæœºç”Ÿæˆä¸è®­ç»ƒæ•°æ®é›†åˆ†å¸ƒä¸€è‡´çš„å›¾ç‰‡ï¼Œä»£è¡¨æ–¹æ³• &lt;a href=&quot;https://arxiv.org/pdf/1406.2661.pdf&quot;&gt;GAN&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;å­¦ä¹ å¢å¼ºç­–ç•¥: é€šè¿‡æ¨¡å‹ï¼Œå­¦ä¹ å‡ºé€‚åˆå½“å‰ä»»åŠ¡çš„æ•°æ®å¢å¼ºæ–¹æ³•ï¼Œä»£è¡¨æ–¹æ³• &lt;a href=&quot;https://arxiv.org/pdf/1805.09501.pdf&quot;&gt;AutoAugment&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;offline--online-augmentation&quot;&gt;Offline / Online augmentation&lt;/h5&gt;
&lt;ol&gt;
  &lt;li&gt;Offline augmentation:
    &lt;ul&gt;
      &lt;li&gt;äº‹å…ˆè¿›è¡Œæ‰€æœ‰å¿…éœ€çš„å›¾åƒå¹³ç§»å·¥ä½œï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯å¢åŠ æ•°æ®é›†å¤§å°&lt;/li&gt;
      &lt;li&gt;å½“æ•°æ®é›†ç›¸å¯¹è¾ƒå°æ—¶ï¼Œä¼˜å…ˆé€‰æ‹©è¿™ç§æ–¹æ³•ï¼Œå› ä¸ºä¼šå°†æ•°æ®é›†å¢å¤§Nå€ï¼ˆN=æ‰§è¡Œçš„è½¬æ¢æ•°é‡ï¼‰&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Online augmentation:
    &lt;ul&gt;
      &lt;li&gt;å°†å›¾åƒè¾“å…¥æœºå™¨å­¦ä¹ æ¨¡å‹ä¹‹å‰ï¼Œä»¥å°æ‰¹é‡è¿›è¡Œå›¾åƒå¹³ç§»&lt;/li&gt;
      &lt;li&gt;æ¯”è¾ƒé€‚åˆæ•°æ®é›†è¾ƒå¤§æ—¶çš„æƒ…å†µï¼Œå› ä¸ºæˆ‘ä»¬å¾ˆéš¾åº”ä»˜æ•°æ®é›†çˆ†ç‚¸æ€§å˜å¤§ã€‚ç›¸åï¼Œæˆ‘ä»¬å¯ä»¥å°æ‰¹é‡å¹³ç§»è¾“å…¥åˆ°æ¨¡å‹ä¸­çš„å›¾åƒã€‚æœ‰äº›æœºå™¨å­¦ä¹ æ¡†æ¶æ”¯æŒåœ¨çº¿å¢å¼ºï¼Œä½¿ç”¨GPUå¯ä»¥åŠ å¿«å¢å¼ºé€Ÿåº¦ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

</description>
        <pubDate>Mon, 25 May 2020 00:00:00 -0400</pubDate>
        <link>http://localhost:4000/2020/05/25/image-preprocessing/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/05/25/image-preprocessing/</guid>
        
        <category>Model Training</category>
        
        
      </item>
    
  </channel>
</rss>
